KISSY.add("kg/xplayer/3.0.0/lib/audioSwf",["base","kg/swf/0.0.1/","./status"],function(t,s,a,e){"use strict";function i(t){var s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");t||(t=Math.floor(Math.random()*s.length));for(var a="",e=0;t>e;e++)a+=s[Math.floor(Math.random()*s.length)];return a}var r=s("base"),n=s("kg/swf/0.0.1/"),o=s("./status"),u=window,l="//g.alicdn.com/kg/xplayer/3.0.0/xplayer.swf";-1!==window.location.href.indexOf("ks-debug")&&(l="../flash/xplayer.swf?v="+t.now());var c=r.extend({initializer:function(){var s=this,a=i(10),e="Xplayer_"+a,r=document.createElement("DIV");r.id="XP_"+e,r.style.position="absolute",r.style.width="1px",r.style.height="1px",r.style.left="-1000px",r.style.top="-1000px",document.body.appendChild(r);var c={src:l,attrs:{width:1,height:1,id:"J_xiamiPlayerSwf_"+a},params:{allowScriptAccess:"always",wmode:"window",flashVars:{xplayerinterface:e}},render:r,version:"9.0"};s.status=o,s["interface"]=u[e]={open:function(){s.fire("open")},timeupdate:function(t){s.status.currentTime=t.currentTime,s.status.duration=t.duration,s.fire("timeupdate",t)},ended:function(t){s.status.isPlaying=!1,s.status.isPaused=!1,s.fire("ended",t)},progress:function(t){s.fire("progress",t)},error:function(){t.log("error"),s.fire("error")}},s.player=new n(c)},load:function(t){var s=this;s.set("src",t),s.player.callSWF("jsSrc",[t])},play:function(){var s=this;t.log(s.status.isPlaying,"","是否正在播放"),s.status.isPlaying||(s.status.isPlaying=!0,s.status.isPaused=!1,s.player.callSWF("jsPlay"))},pause:function(){var t=this;t.status.isPaused||(t.status.isPlaying=!1,t.status.isPaused=!0,t.player.callSWF("jsPause"))},stop:function(){var t=this;t.status.isPlaying=!1,t.status.isPaused=!1,t.status.pausePosition=0,t.player.callSWF("jsStop")},setPosition:function(t){var s=this;s.status.pausePosition=t,s.player.callSWF("jsPosition",[Number(t)]),s.status.isPlaying||s.play()},setVolume:function(t){var s=this;s.status.volume=t,s.player.callSWF("setVolume",[Number(t)])}},{ATTR:{volume:{value:1,setter:function(t){return this.audio.volume=t,t},validator:function(s){return 1>=s&&s>=0&&t.isNumber(s)?!0:!1}},src:{}}});e.exports=c});