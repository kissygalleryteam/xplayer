<<<<<<< HEAD
KISSY.add("kg/xplayer/2.1.0/index",["base","swf"],function(t,e,a,i){var s,n,r,u,o=e("base"),l=e("swf");s=function(t){return t={duration:0,currentTime:0,loadedTime:0,volume:.5,isPaused:!1,isPlaying:!1,pausePosition:0,readyState:0}}(),n=function(e){function a(t){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");t||(t=Math.floor(Math.random()*e.length));for(var a="",i=0;t>i;i++)a+=e[Math.floor(Math.random()*e.length)];return a}var i=o,n=l,r=s,u=window,d="//g.alicdn.com/kg/xplayer/2.1.0/xplayer.swf";-1!==window.location.href.indexOf("ks-debug")&&(d="../flash/xplayer.swf?v="+t.now());var c=i.extend({initializer:function(){var e=this,i=a(10),s="Xplayer_"+i,o=document.createElement("DIV");o.id="XP_"+s,o.style.position="absolute",o.style.width="1px",o.style.height="1px",o.style.left="-1000px",o.style.top="-1000px",document.body.appendChild(o);var l={src:d,attrs:{width:1,height:1,id:"J_xiamiPlayerSwf_"+i},params:{allowScriptAccess:"always",wmode:"window",flashVars:{xplayerinterface:s}},render:o,version:"9.0"};e.status=r,e["interface"]=u[s]={open:function(){e.fire("open")},timeupdate:function(t){e.status.currentTime=t.currentTime,e.status.duration=t.duration,e.fire("timeupdate",t)},ended:function(t){e.status.isPlaying=!1,e.status.isPaused=!1,e.fire("ended",t)},progress:function(t){e.fire("progress",t)},error:function(){t.log("error"),e.fire("error")}},e.player=new n(l)},load:function(t){var e=this;e.set("src",t),e.player.callSWF("jsSrc",[t])},play:function(){var e=this;t.log(e.status.isPlaying,"","是否正在播放"),e.status.isPlaying||(e.status.isPlaying=!0,e.status.isPaused=!1,e.player.callSWF("jsPlay"))},pause:function(){var t=this;t.status.isPaused||(t.status.isPlaying=!1,t.status.isPaused=!0,t.player.callSWF("jsPause"))},stop:function(){var t=this;t.status.isPlaying=!1,t.status.isPaused=!1,t.status.pausePosition=0,t.player.callSWF("jsStop")},setPosition:function(t){var e=this;e.status.pausePosition=t,e.player.callSWF("jsPosition",[Number(t)]),e.status.isPlaying||e.play()},setVolume:function(t){var e=this;e.status.volume=t,e.player.callSWF("setVolume",[Number(t)])}},{ATTR:{volume:{value:1,setter:function(t){return this.audio.volume=t,t},validator:function(e){return 1>=e&&e>=0&&t.isNumber(e)?!0:!1}},src:{}}});return e=c}(),r=function(e){var a=o,i=s,n=a.extend({initializer:function(){var t=this;t.audio=new Audio,t.audio.preload=!0,t._addEvent(),t.status=i},_addEvent:function(){var e=this;e.audio.addEventListener("loadstart",function(){t.log("Xplayer open"),e.fire("open")}),e.audio.addEventListener("timeupdate",function(){e.status.currentTime=1e3*this.currentTime,e.status.duration=1e3*this.duration,e.fire(event.type,e.status)}),e.audio.addEventListener("ended",function(t){e.status.isPlaying=!1,e.status.isPaused=!1,e.fire(t.type)}),e.audio.addEventListener("progress",function(t){if(null!=e.audio.buffered&&e.audio.buffered.length){var a=e.audio.buffered.end(e.audio.buffered.length-1);e.fire(t.type,{progress:1e3*a,duration:1e3*e.audio.duration})}}),e.audio.addEventListener("error",function(t){e.fire(t.type)})},load:function(t){var e=this;e.set("src",t),e.audio.src=t,e.audio.volume=e.get("volume")},play:function(){var e=this;t.log(e.status.isPlaying),e.status.isPlaying||(e.status.isPlaying=!0,e.status.isPaused=!1,e.audio.play())},pause:function(){var t=this;t.status.isPaused||(t.status.isPlaying=!1,t.status.isPaused=!0,t.status.pausePosition=t.audio.currentTime,t.audio.pause())},stop:function(){var t=this;t.status.isPlaying=!1,t.status.isPaused=!1,t.status.pausePosition=0;try{t.audio.currentTime=0}catch(e){}t.audio.pause()},setPosition:function(t){var e=this;e.audio.readyState>0&&(e.status.currentTime=t/1e3,e.audio.currentTime=e.status.currentTime,e.status.pausePosition=t),e.status.isPlaying||e.play()},setVolume:function(t){var e=this;e.status.volume=t,e.set("volume",t)}},{ATTRS:{volume:{value:.5,setter:function(t){return this.audio.volume=t,t},validator:function(e){return 1>=e&&e>=0&&t.isNumber(e)?!0:!1}},src:{}}});return e=n}(),u=function(e){"use strict";function a(e){var a=this;a.config=t.mix({autoplay:!1,forceFlash:!1,forceAudio:!1},e,!0),a._init()}var i="",s=r,u=n;return a.prototype={_init:function(){var t=this;if(t.track=null,t.player=null,t.config.forceAudio&&!t.config.forceFlash&&(t.player=new s),t.config.forceFlash&&!t.config.forceAudio&&(t.player=new u),null===t.player){var e=t.supportAudio();t.player=e?new s:new u}return t.status=t.player.status,t},load:function(t){var e=this;if(!t.url||t.url==i)throw new Error("Can't find a URL parameter");return e.stop(),e.track=t,e.player.load(e.track.url),e.config.autoplay&&e.play(),e},on:function(t,e){var a=this;return a.player.on(t,e),a},play:function(e){var a=this;return(isNaN(e)||t.isUndefined(e))&&(e=0),a.player.play(e),a},stop:function(){var t=this;return t.player.stop(),t},pause:function(){var t=this;return t.player.pause(),t},setPosition:function(e){var a=this;return t.isUndefined(e)?a:(a.player.setPosition(e),a)},getTrack:function(){var t=this;return t.track},setVolume:function(t){var e=this;e.player.setVolume(t)},supportAudio:function(){try{var e=document.createElement("audio");return!(!e.canPlayType||!e.canPlayType("audio/mpeg").replace(/no/,""))}catch(a){t.log(a)}return!1}},e=a}(),i.exports=u});
=======
KISSY.add("kg/xplayer/3.0.0/index",["base","kg/swf/0.0.1/"],function(t,e,a,i){var s,r,n,u,o=e("base"),l=e("kg/swf/0.0.1/");s=function(t){return t={duration:0,currentTime:0,loadedTime:0,volume:.5,isPaused:!1,isPlaying:!1,pausePosition:0,readyState:0}}(),r=function(e){"use strict";function a(t){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");t||(t=Math.floor(Math.random()*e.length));for(var a="",i=0;t>i;i++)a+=e[Math.floor(Math.random()*e.length)];return a}var i=o,r=l,n=s,u=window,d="//g.alicdn.com/kg/xplayer/3.0.0/xplayer.swf";-1!==window.location.href.indexOf("ks-debug")&&(d="../flash/xplayer.swf?v="+t.now());var c=i.extend({initializer:function(){var e=this,i=a(10),s="Xplayer_"+i,o=document.createElement("DIV");o.id="XP_"+s,o.style.position="absolute",o.style.width="1px",o.style.height="1px",o.style.left="-1000px",o.style.top="-1000px",document.body.appendChild(o);var l={src:d,attrs:{width:1,height:1,id:"J_xiamiPlayerSwf_"+i},params:{allowScriptAccess:"always",wmode:"window",flashVars:{xplayerinterface:s}},render:o,version:"9.0"};e.status=n,e["interface"]=u[s]={open:function(){e.fire("open")},timeupdate:function(t){e.status.currentTime=t.currentTime,e.status.duration=t.duration,e.fire("timeupdate",t)},ended:function(t){e.status.isPlaying=!1,e.status.isPaused=!1,e.fire("ended",t)},progress:function(t){e.fire("progress",t)},error:function(){t.log("error"),e.fire("error")}},e.player=new r(l)},load:function(t){var e=this;e.set("src",t),e.player.callSWF("jsSrc",[t])},play:function(){var e=this;t.log(e.status.isPlaying,"","是否正在播放"),e.status.isPlaying||(e.status.isPlaying=!0,e.status.isPaused=!1,e.player.callSWF("jsPlay"))},pause:function(){var t=this;t.status.isPaused||(t.status.isPlaying=!1,t.status.isPaused=!0,t.player.callSWF("jsPause"))},stop:function(){var t=this;t.status.isPlaying=!1,t.status.isPaused=!1,t.status.pausePosition=0,t.player.callSWF("jsStop")},setPosition:function(t){var e=this;e.status.pausePosition=t,e.player.callSWF("jsPosition",[Number(t)]),e.status.isPlaying||e.play()},setVolume:function(t){var e=this;e.status.volume=t,e.player.callSWF("setVolume",[Number(t)])}},{ATTR:{volume:{value:1,setter:function(t){return this.audio.volume=t,t},validator:function(e){return 1>=e&&e>=0&&t.isNumber(e)?!0:!1}},src:{}}});return e=c}(),n=function(e){var a=o,i=s,r=a.extend({initializer:function(){var t=this;t.audio=new Audio,t.audio.preload=!0,t._addEvent(),t.status=i},_addEvent:function(){var e=this;e.audio.addEventListener("loadstart",function(){t.log("Xplayer open"),e.fire("open")}),e.audio.addEventListener("timeupdate",function(t){e.status.currentTime=1e3*this.currentTime,e.status.duration=1e3*this.duration,e.fire(t.type,e.status)}),e.audio.addEventListener("ended",function(t){e.status.isPlaying=!1,e.status.isPaused=!1,e.fire(t.type)}),e.audio.addEventListener("progress",function(t){if(null!=e.audio.buffered&&e.audio.buffered.length){var a=e.audio.buffered.end(e.audio.buffered.length-1);e.fire(t.type,{progress:1e3*a,duration:1e3*e.audio.duration})}}),e.audio.addEventListener("error",function(t){e.fire(t.type)})},load:function(t){var e=this;e.set("src",t),e.audio.src=t,e.audio.volume=e.get("volume")},play:function(){var e=this;t.log(e.status.isPlaying),e.status.isPlaying||(e.status.isPlaying=!0,e.status.isPaused=!1,e.audio.play())},pause:function(){var t=this;t.status.isPaused||(t.status.isPlaying=!1,t.status.isPaused=!0,t.status.pausePosition=t.audio.currentTime,t.audio.pause())},stop:function(){var t=this;t.status.isPlaying=!1,t.status.isPaused=!1,t.status.pausePosition=0;try{t.audio.currentTime=0}catch(e){}t.audio.pause()},setPosition:function(t){var e=this;e.audio.readyState>0&&(e.status.currentTime=t/1e3,e.audio.currentTime=e.status.currentTime,e.status.pausePosition=t),e.status.isPlaying||e.play()},setVolume:function(t){var e=this;e.status.volume=t,e.set("volume",t)}},{ATTRS:{volume:{value:.5,setter:function(t){return this.audio.volume=t,t},validator:function(e){return 1>=e&&e>=0&&t.isNumber(e)?!0:!1}},src:{}}});return e=r}(),u=function(e){"use strict";function a(e){var a=this;a.config=t.mix({autoplay:!1,forceFlash:!1,forceAudio:!1},e,!0),a._init()}var i="",s=n,u=r;return a.prototype={_init:function(){var t=this;if(t.track=null,t.player=null,t.config.forceAudio&&!t.config.forceFlash&&(t.player=new s),t.config.forceFlash&&!t.config.forceAudio&&(t.player=new u),null===t.player){var e=t.supportAudio();t.player=e?new s:new u}return t.status=t.player.status,t},load:function(t){var e=this;if(!t.url||t.url==i)throw new Error("Can't find a URL parameter");return e.stop(),e.track=t,e.player.load(e.track.url),e.config.autoplay&&e.play(),e},on:function(t,e){var a=this;return a.player.on(t,e),a},play:function(e){var a=this;return(isNaN(e)||t.isUndefined(e))&&(e=0),a.player.play(e),a},stop:function(){var t=this;return t.player.stop(),t},pause:function(){var t=this;return t.player.pause(),t},setPosition:function(e){var a=this;return t.isUndefined(e)?a:(a.player.setPosition(e),a)},getTrack:function(){var t=this;return t.track},setVolume:function(t){var e=this;e.player.setVolume(t)},supportAudio:function(){try{var e=document.createElement("audio");return!(!e.canPlayType||!e.canPlayType("audio/mpeg").replace(/no/,""))}catch(a){t.log(a)}return!1}},e=a}(),i.exports=u});
>>>>>>> 92f144ae1a6361a13457db4cb65fa963c8d113dd
